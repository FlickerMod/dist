(()=>{var i={modules:{},baked:!1,classes:{},_current:null,_loadQueue:[],_waitForOnload:0,copy(e){if(!e||typeof e!="object"||e instanceof HTMLElement||e instanceof i.Class)return e;if(e instanceof Array){let t=[];for(let r of e)t[r]=i.copy(r);return t}else{let t={};for(let r in e)t[r]=i.copy(e[r]);return t}},module(e){if(i._current)throw new Error(`Module ${i._current.name} defines nothing`);if(i.modules[e]&&i.modules[e].body)throw new Error(`Module ${e} is already defined`);return i._current={name:e,requires:[],loaded:!1,body:null},i.modules[e]=i._current,i._loadQueue.push(i._current),i},requires(){return i._current.requires=Array.prototype.slice.call(arguments),i},defines(e){i._current.body=e,i._current=null,i._initDOMReady()},_execModules(){let e=!1;for(let t=0;t<i._loadQueue.length;t++){let r=i._loadQueue[t],n=!0;for(let o=0;o<r.requires.length;o++){let s=r.requires[o];i.modules[s]&&(i.modules[s].loaded||(n=!1))}n&&r.body&&(i._loadQueue.splice(t,1),r.loaded=!0,r.body(),e=!0,t--)}if(e)i._execModules();else if(!i.baked&&i._waitForOnload==0&&i._loadQueue.length!=0){let t=[];for(let r=0;r<i._loadQueue.length;r++){let n=[],o=i._loadQueue[r].requires;for(let s=0;s<o.length;s++){let d=i.modules[o[s]];(!d||!d.loaded)&&n.push(o[s])}t.push(i._loadQueue[r].name+" (requires: "+n.join(", ")+")")}throw`Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:
`+t.join(`
`)}},_DOMReady(){if(!i.modules["dom.ready"].loaded){if(!document.body)return setTimeout(i._DOMReady,13);i.modules["dom.ready"].loaded=!0,i._waitForOnload--,i._execModules()}return 0},_initDOMReady(){if(i.modules["dom.ready"]){i._execModules();return}i.modules["dom.ready"]={requires:[],loaded:!1,body:null},i._waitForOnload++,document.readyState==="complete"?i._DOMReady():(document.addEventListener("DOMContentLoaded",i._DOMReady,!1),window.addEventListener("load",i._DOMReady,!1))}},y=!1,m=/xyz/.test(()=>xyz)?/\bparent\b/:/.*/,O=0;i.Class=function(){};function E(e){let t=this.prototype,r={};for(let n in e)typeof e[n]=="function"&&typeof t[n]=="function"&&m.test(e[n])?(r[n]=t[n],t[n]=function(o,s){return function(){let d=this.parent;this.parent=r[o];let u=s.apply(this,arguments);return this.parent=d,u}}(n,e[n])):t[n]=e[n]}i.Class.extend=function(e){var t=this.prototype;y=!0;let r=new this;y=!1;for(let o in e)typeof e[o]=="function"&&typeof t[o]=="function"&&m.test(e[o])?r[o]=function(s,d){return function(){let u=this.parent;this.parent=t[s];var a=d.apply(this,arguments);return this.parent=u,a}}(o,e[o]):r[o]=e[o];function n(){if(!y){if(this.staticInstantiate){var o=this.staticInstantiate.apply(this,arguments);if(o)return o}for(let s in this)typeof this[s]=="object"&&(this[s]=i.copy(this[s]));this.init&&this.init.apply(this,arguments)}return this}return n.prototype=r,n.prototype.constructor=n,n.extend=i.Class.extend,n.inject=E,n.classId=r.classId=++O,n};var l=i;function g(e,t,r){console[r]("%cFlicker%c",`background-color: ${t}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...e)}l.module("flicker.logging").requires("dom.ready").defines(()=>{l.classes.Logger=l.Class.extend({log(...e){g(e,"#552954","log")},warn(...e){g(e,"#c11c3e","warn")},error(...e){g(e,"red","error")}})});function A(){let e;return webpackChunkdiscord_app.push([[Symbol("Flicker")],{},t=>{e=t}]),e.c}function v(e,t,r=!1){let n=[];for(let o in e)if(e.hasOwnProperty(o)){let s=e[o].exports;s&&(s.default&&s.__esModule&&t(s.default)&&n.push(s.default),t(s)&&n.push(s))}return n}var p=A();console.log(p);l.module("flicker.webpack.webpackModules").requires("dom.ready").defines(()=>{l.classes.Webpack=l.Class.extend({find:e=>v(p,e)[0],findAll:e=>v(p,e),getModule:e=>{for(let t in p){let r=p[t]?.exports;if(r===e||r?.default===e)return r}},findByProps(...e){return this.find(t=>e.every(r=>t[r]!==void 0))},findByPropsAll(...e){return this.findAll(t=>e.every(r=>t[r]!==void 0))},findByPrototypes(...e){return this.find(t=>t.prototype&&e.every(r=>t.prototype[r]!==void 0))},findByDisplayName(e,t=!1){return t?this.find(r=>r?.default?.displayName===e):this.find(r=>r.displayName===e)},findByDisplayNameAll(e){return this.findAll(t=>t.displayName===e)}})});var w=e=>typeof e.prev=="function"?e.prev:w(e.prev),C=(e,t,r)=>{let n=t[`_$$_${e}`][r];return n===void 0?t[r]:w(n)},$=class{constructor(e,t,r){this.data={id:e,func:(...n)=>r(typeof this.prev=="function"?this.prev:this.prev.data.func,n)},this.prev=t}data;prev},F=(e,t,r,n)=>{debugger;let o=e[`_$$_${n}`][t];if(o.data.id===r){if(typeof o.prev=="function"){e[t]=o.prev,e[`_##_${n}`][t]=void 0;return}e[`_$$_${n}`][t]=o.prev,e[t]=o.prev.data.func;return}let s=a=>a&&typeof a.prev=="object"?(a.data=a.prev.data,a.prev=a.prev.prev,s(a.prev)):!0,d=a=>{if(!a)throw new Error("could not find unpatch");return typeof a.prev=="object"&&a.data.id!==r?d(a.prev):s(a)},u={...o};d(u),e[`_$$_${n}`][t]=u,e[t]=u.data.func},k=new Set,D=()=>{let e;for(;!e||k.has(e);)e=Math.floor(Math.random()*1e10);return k.add(e),e},q=class{#r;#n;#e;constructor(e,t){this.#r=e,this.#n=t,this.#e=new Set}get patcherId(){return this.#r.toUpperCase()+"_"+this.#n}#t(e,t,r,n){let o=r[t];if(o===void 0||typeof o!="function")throw new Error(`${t} is not a function on ${r}`);let s=D();r[`_$$_${this.patcherId}`]===void 0&&(r[`_$$_${this.patcherId}`]={});let d;switch(e){case"AFTER":d=(a,f)=>{let c=a.apply(r,f);return c=n(f,c)??c,c};break;case"BEFORE":d=(a,f)=>{let c=n(f)??f;return a.apply(r,c)};break;case"INSTEAD":d=(a,f)=>n(f,a.bind(r));break;default:break}let u=r[`_$$_${this.patcherId}`][t];return u===void 0?u=new $(s,o,d):u=new $(s,u,d),r[`_$$_${this.patcherId}`][t]=u,r[t]=u.data.func,this.#e.add(r),()=>F(r,t,s,this.patcherId)}after(e,t,r){return this.#t("AFTER",e,t,r)}before(e,t,r){return this.#t("BEFORE",e,t,r)}instead(e,t,r){return this.#t("INSTEAD",e,t,r)}cleanupAll(){for(let e of this.#e){for(let t in e[`_$$_${this.patcherId}`]){let r=C(this.patcherId,e,t);e[t]=r,e[`_$$_${this.patcherId}`][t]=void 0}e[`_$$_${this.patcherId}`]=void 0,delete e[`_$$_${this.patcherId}`]}this.#e.clear()}},h=new Map,M=()=>Math.floor(Math.random()*1e10);function x(e="simian"){let t=M();if(Array.isArray(h.get(e)))for(;h.get(e).indexOf(t)!==-1;)t=M();return h.set(e,(h.get(e)??[]).concat(t)),new q(e,t)}l.module("flicker.patcher").requires("dom.ready").defines(()=>{let e=x("Flicker");l.classes.Patcher=l.Class.extend({after:(t,r,n)=>e.after(t,r,n),before:(t,r,n)=>e.before(t,r,n),instead:(t,r,n)=>e.instead(t,r,n)})});var I=["Loading Flicker...","Looking at the sky...","Watching the water unfold...","Making Discord feel alive...","Keep going keep going keep going keep going..."];function _(){new l.classes.Logger().log(I[Math.floor(Math.random()*I.length)]),window.flicker={...l,modules:{webpackModules:new l.classes.Webpack},utils:{logger:new l.classes.Logger},patcher:new l.classes.Patcher}}if(window.flicker)throw new Error("Flicker is already injected!");_();})();
//# sourceURL=Flicker